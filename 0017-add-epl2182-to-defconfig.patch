From f17f74921cac017d79871e4f4643978e801e60d9 Mon Sep 17 00:00:00 2001
From: olegsvs <oleg.texet@gmail.com>
Date: Mon, 9 May 2016 14:17:55 +0300
Subject: [PATCH 017/117] add epl2182 to defconfig

---
 arch/arm64/configs/benefit_m7_defconfig            |   3 +--
 .../misc/mediatek/alsps/stk3x1x_driver/stk3x1x.c   |   4 ++--
 .../mach/mt6735/benefit_m7/dct/dct/codegen.dws     | Bin 29782 -> 30000 bytes
 include/config/auto.conf                           |   4 ++++
 include/config/tristate.conf                       |   2 ++
 include/generated/autoconf.h                       |   4 ++++
 include/generated/compile.h                        |   4 ++--
 tools/dct/DCT.log                                  |  25 +++++++++++++++++++++
 8 files changed, 40 insertions(+), 6 deletions(-)

diff --git a/arch/arm64/configs/benefit_m7_defconfig b/arch/arm64/configs/benefit_m7_defconfig
index ecf4cb1..ca3a405 100644
--- a/arch/arm64/configs/benefit_m7_defconfig
+++ b/arch/arm64/configs/benefit_m7_defconfig
@@ -1286,7 +1286,7 @@ CONFIG_MTK_SIM2=y
 # CONFIG_MTK_CM36283 is not set
 # CONFIG_MTK_GP2AP002S00F is not set
 # CONFIG_MTK_APM_16D is not set
-# CONFIG_MTK_EPL2182 is not set
+CONFIG_MTK_EPL2182=y
 # CONFIG_MTK_EPL2182_NEW is not set
 CONFIG_MTK_STK3X1X_NEW=n
 CONFIG_MTK_STK3X1X_DRIVER=y
@@ -1325,7 +1325,6 @@ CONFIG_MTK_MC3XXX_AUTO=y
 # CONFIG_MTK_BMM050 is not set
 # CONFIG_MTK_BMM050_NEW is not set
 CONFIG_MTK_MMC3416X=y
-CONFIG_POCKETMOD=n
 # CONFIG_MTK_BMA050 is not set
 # CONFIG_MTK_BMA050_NEW is not set
 # CONFIG_MTK_BMA255_SDO0 is not set
diff --git a/drivers/misc/mediatek/alsps/stk3x1x_driver/stk3x1x.c b/drivers/misc/mediatek/alsps/stk3x1x_driver/stk3x1x.c
index a864f23..392eb33 100644
--- a/drivers/misc/mediatek/alsps/stk3x1x_driver/stk3x1x.c
+++ b/drivers/misc/mediatek/alsps/stk3x1x_driver/stk3x1x.c
@@ -2714,7 +2714,7 @@ int stk3x1x_pocket_detection_check(void)
 	}
 	else
 	{
-		stk3x1x_enable_ps(obj->client, 1);
+		stk3x1x_enable_ps(obj->client, 1,1);
 
 		msleep(50);
 
@@ -2723,7 +2723,7 @@ int stk3x1x_pocket_detection_check(void)
 
 		APS_DBG("[stk3x1x] %s als_val = %d, ps_val = %d\n", __func__, als_val, ps_val);
 
-		stk3x1x_enable_ps(obj->client, 0);
+		stk3x1x_enable_ps(obj->client, 0,1);
 
 		return (ps_val);
 	}
diff --git a/drivers/misc/mediatek/mach/mt6735/benefit_m7/dct/dct/codegen.dws b/drivers/misc/mediatek/mach/mt6735/benefit_m7/dct/dct/codegen.dws
index 60faf7eebf301b484eb6fe1598954dc11f157b45..ed205d2280081eba6bb6e1c008a416f0066f8804 100644
GIT binary patch
delta 379
zcmccif^owu#tqYWM8z2x7~BIq{o|b-eO-eb<AYrM4B{sniYQJNuoId5K}u$lH8w>7
z#3=GJB*rADq5@`?$rr42fYynKp}Wc14`L8rH38^qu=&l12t@(JDDpEV#w4&J(a8zS
P0+S6`SvLRTk4XUl0j*~U

delta 132
vcmdn+it*YD#tqYWCjaA5n7o141}lAmM`xk|%j5^V5M@;3ifle0P>=!u6y-Et

diff --git a/include/config/auto.conf b/include/config/auto.conf
index b890132..52be552 100644
--- a/include/config/auto.conf
+++ b/include/config/auto.conf
@@ -218,6 +218,7 @@ CONFIG_WEXT_CORE=y
 CONFIG_MTK_RAM_CONSOLE_DRAM_SIZE=0x10000
 CONFIG_NLS=y
 CONFIG_CLS_U32_PERF=y
+CONFIG_TOUCHSCREEN_DOUBLETAP2WAKE=y
 CONFIG_HID_MAGICMOUSE=y
 CONFIG_CUSTOM_KERNEL_GLANCE_GESTURE_SENSOR=""
 CONFIG_PPPOE=y
@@ -518,6 +519,7 @@ CONFIG_SND_PCM=y
 CONFIG_MTK_HWMON=y
 CONFIG_MTK_CONN_LTE_IDC_SUPPORT=y
 CONFIG_HAVE_NET_DSA=y
+CONFIG_TOUCHSCREEN_SWEEP2WAKE=y
 CONFIG_NET=y
 CONFIG_INPUT_EVDEV=y
 CONFIG_SND_JACK=y
@@ -838,6 +840,7 @@ CONFIG_PM_WAKELOCKS=y
 CONFIG_CRYPTO_BLKCIPHER2=y
 CONFIG_SECURITY_SELINUX_AVC_STATS=y
 CONFIG_SND_SEQ_DUMMY=y
+CONFIG_POCKETMOD=y
 CONFIG_COMPACTION=y
 CONFIG_PROC_FS=y
 CONFIG_MTD_BLOCK=y
@@ -980,6 +983,7 @@ CONFIG_CRYPTO_AEAD2=y
 CONFIG_NET_IPIP=y
 CONFIG_CRYPTO_ALGAPI2=y
 CONFIG_MTK_MET=y
+CONFIG_TOUCHSCREEN_PREVENT_SLEEP=y
 CONFIG_MTK_SMI=y
 CONFIG_HAVE_MEMBLOCK=y
 CONFIG_INPUT=y
diff --git a/include/config/tristate.conf b/include/config/tristate.conf
index 95d7b3e..32e44c7 100644
--- a/include/config/tristate.conf
+++ b/include/config/tristate.conf
@@ -79,6 +79,7 @@ CONFIG_NETFILTER_XT_TARGET_CLASSIFY=Y
 CONFIG_REGMAP_SPI=Y
 CONFIG_NETFILTER_XT_TARGET_NFQUEUE=Y
 CONFIG_NLS=Y
+CONFIG_TOUCHSCREEN_DOUBLETAP2WAKE=Y
 CONFIG_HID_MAGICMOUSE=Y
 CONFIG_PPPOE=Y
 CONFIG_USB_STORAGE_ALAUDA=Y
@@ -193,6 +194,7 @@ CONFIG_USB_STORAGE_SDDR09=Y
 CONFIG_IP6_NF_MATCH_FRAG=Y
 CONFIG_CRYPTO_LZO=Y
 CONFIG_SND_PCM=Y
+CONFIG_TOUCHSCREEN_SWEEP2WAKE=Y
 CONFIG_INPUT_EVDEV=Y
 CONFIG_NETFILTER_XT_TARGET_TCPMSS=Y
 CONFIG_HID_DRAGONRISE=Y
diff --git a/include/generated/autoconf.h b/include/generated/autoconf.h
index 4847209..bec13ab 100644
--- a/include/generated/autoconf.h
+++ b/include/generated/autoconf.h
@@ -220,6 +220,7 @@
 #define CONFIG_MTK_RAM_CONSOLE_DRAM_SIZE 0x10000
 #define CONFIG_NLS 1
 #define CONFIG_CLS_U32_PERF 1
+#define CONFIG_TOUCHSCREEN_DOUBLETAP2WAKE 1
 #define CONFIG_HID_MAGICMOUSE 1
 #define CONFIG_CUSTOM_KERNEL_GLANCE_GESTURE_SENSOR ""
 #define CONFIG_PPPOE 1
@@ -520,6 +521,7 @@
 #define CONFIG_MTK_HWMON 1
 #define CONFIG_MTK_CONN_LTE_IDC_SUPPORT 1
 #define CONFIG_HAVE_NET_DSA 1
+#define CONFIG_TOUCHSCREEN_SWEEP2WAKE 1
 #define CONFIG_NET 1
 #define CONFIG_INPUT_EVDEV 1
 #define CONFIG_SND_JACK 1
@@ -840,6 +842,7 @@
 #define CONFIG_CRYPTO_BLKCIPHER2 1
 #define CONFIG_SECURITY_SELINUX_AVC_STATS 1
 #define CONFIG_SND_SEQ_DUMMY 1
+#define CONFIG_POCKETMOD 1
 #define CONFIG_COMPACTION 1
 #define CONFIG_PROC_FS 1
 #define CONFIG_MTD_BLOCK 1
@@ -982,6 +985,7 @@
 #define CONFIG_NET_IPIP 1
 #define CONFIG_CRYPTO_ALGAPI2 1
 #define CONFIG_MTK_MET 1
+#define CONFIG_TOUCHSCREEN_PREVENT_SLEEP 1
 #define CONFIG_MTK_SMI 1
 #define CONFIG_HAVE_MEMBLOCK 1
 #define CONFIG_INPUT 1
diff --git a/include/generated/compile.h b/include/generated/compile.h
index f3ec75b..57068cc 100644
--- a/include/generated/compile.h
+++ b/include/generated/compile.h
@@ -1,7 +1,7 @@
-/* This file is auto generated, version 74 */
+/* This file is auto generated, version 75 */
 /* SMP PREEMPT */
 #define UTS_MACHINE "arm64"
-#define UTS_VERSION "#74 SMP PREEMPT Sun May 8 22:31:11 MSK 2016"
+#define UTS_VERSION "#75 SMP PREEMPT Sun May 8 22:58:11 MSK 2016"
 #define LINUX_COMPILE_BY "olegsvs"
 #define LINUX_COMPILE_HOST "olegsvs-develop"
 #define LINUX_COMPILER "gcc version 4.9 20150123 (prerelease) (GCC) "
diff --git a/tools/dct/DCT.log b/tools/dct/DCT.log
index e69de29..4e5e630 100644
--- a/tools/dct/DCT.log
+++ b/tools/dct/DCT.log
@@ -0,0 +1,25 @@
+/* Log generated by MTK SP DrvGen Version 03.13.6;
+ Log Time is Sun May 08 19:38:14 2016
+ */
+open operater parse MT6735M.fig OK!
+Edit operater parse .cmp file OK!
+open operater parse MT6753.fig OK!
+Edit operater parse .cmp file OK!
+open operater parse MT6735.fig OK!
+Edit operater parse .cmp file OK!
+open operater parse MT6735M.fig OK!
+Edit operater parse .cmp file OK!
+Edit operater parse .cmp file OK!
+open operater parse MT6735M.fig OK!
+Edit operater parse .cmp file OK!
+Gencode operater parse .cmp file OK!
+Gencode cust_eint_md1.h OK!
+Gencode cust_power.h OK!
+Edit operater parse .cmp file OK!
+open operater parse MT6753.fig OK!
+Edit operater parse .cmp file OK!
+open operater parse MT6735M.fig OK!
+Edit operater parse .cmp file OK!
+Gencode operater parse .cmp file OK!
+Gencode cust_eint_md1.h OK!
+Gencode cust_power.h OK!
-- 
2.7.4

