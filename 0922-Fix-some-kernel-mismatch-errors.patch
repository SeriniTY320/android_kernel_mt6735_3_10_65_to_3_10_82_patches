From 6e1485daea87f0fea1fa2fdbfe8c44d8a8fa5f3b Mon Sep 17 00:00:00 2001
From: Jan Magnus Brevik <jmbrevik@getmail.no>
Date: Sat, 5 Dec 2015 01:20:23 +0100
Subject: [PATCH 0922/1168] Fix some kernel mismatch errors

Signed-off-by: Stefan Guendhoer <stefan@guendhoer.com>

Former-commit-id: 109c8fe8cab9672d098e53b5eab80b76e92bd054
---
 drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_algo.c   | 4 ++--
 drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_core.c   | 6 +++---
 drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_main.c   | 2 +-
 drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_procfs.c | 2 +-
 4 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_algo.c b/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_algo.c
index cac3539..aae6cbe 100755
--- a/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_algo.c
+++ b/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_algo.c
@@ -65,7 +65,7 @@
 /*
  * hps algo - hmp
  */
-void hps_algo_hmp(void)
+void __cpuinit hps_algo_hmp(void)
 {
     unsigned int cpu;
     unsigned int val;
@@ -512,7 +512,7 @@ ALGO_END_WO_ACTION:
 /*
  * hps algo - smp
  */
-void hps_algo_smp(void)
+void __cpuinit hps_algo_smp(void)
 {
     unsigned int cpu;
     unsigned int val;
diff --git a/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_core.c b/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_core.c
index 520b8b0..3b926b2 100755
--- a/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_core.c
+++ b/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_core.c
@@ -60,7 +60,7 @@
 /*
  * hps task main loop
  */
-static int _hps_task_main(void *data)
+static int __cpuinit _hps_task_main(void *data)
 {
     int cnt = 0;
     void (*algo_func_ptr)(void);
@@ -104,7 +104,7 @@ static int _hps_task_main(void *data)
 /*
  * hps task control interface
  */
-int hps_task_start(void)
+int __cpuinit hps_task_start(void)
 {
     struct sched_param param = { .sched_priority = HPS_TASK_PRIORITY };
 
@@ -158,7 +158,7 @@ void hps_task_wakeup(void)
 /*
  * init
  */
-int hps_core_init(void)
+int __cpuinit hps_core_init(void)
 {
     int r = 0;
 
diff --git a/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_main.c b/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_main.c
index 1783f45..1765601 100755
--- a/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_main.c
+++ b/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_main.c
@@ -497,7 +497,7 @@ suspend_end:
 /*
  * resume callback
  */
-static int hps_resume(struct device *dev)
+static int __cpuinit hps_resume(struct device *dev)
 {
     unsigned int cpu,little_cpu_num_resume;
     hps_warn("%s\n", __func__);
diff --git a/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_procfs.c b/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_procfs.c
index 33d4ceb..510ed9b 100755
--- a/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_procfs.c
+++ b/drivers/misc/mediatek/mach/mt6735/mt_hotplug_strategy_procfs.c
@@ -821,7 +821,7 @@ static int hps_test1_proc_show(struct seq_file *m, void *v)
     return 0;
 }
 
-static int hps_test1_proc_write(struct file *file, const char __user *buffer, size_t count, loff_t *pos)
+static int __cpuinit hps_test1_proc_write(struct file *file, const char __user *buffer, size_t count, loff_t *pos)
 {
     int len = 0, test1 = 0;
     char desc[32];
-- 
2.7.4

